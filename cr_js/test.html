<html>
<head>
<script src="scripts/lib/jquery-2.1.1.min.js"></script>
<script data-main="scripts/vispy" src="scripts/lib/require.js"></script>
<script>
    require(["vispy"], function(vispy) {
        c = vispy.init("#mycanvas");
        vispy.gloo.glir.call(c, ['FUNC', 'clearColor', 1, 0, 0, 1]);
        vispy.gloo.glir.call(c, ['FUNC', 'clear', 'COLOR_BUFFER_BIT']);

        vispy.gloo.glir.call(c, ['CREATE', 'myvbo', 'VertexBuffer']);
        vispy.gloo.glir.call(c, ['DATA', 'myvbo', 0, [0.,0.,.5,.5]]);

        var VS = " \
        attribute vec2 a_position; \
        void main() { \
            gl_Position = vec4(a_position, 0, 1); \
        }";

        var FS = " \
        void main() { \
            gl_FragColor = vec4(0, 0, 0, 1); \
        }";

        vispy.gloo.glir.call(c, ['CREATE', 'myprogram', 'Program']);
        vispy.gloo.glir.call(c, ['SHADERS', 'myprogram', VS, FS]);
        
        vispy.gloo.glir.call(c, ['ATTRIBUTE', 'myprogram', 'a_position',
                                 'vec2', 'myvbo', 0, 0]);
        
        vispy.gloo.glir.call(c, ['DRAW', 'myprogram', 'LINES',
                                 [0, 2]]);

    
    });
</script>
</head> 
<body>

<canvas id="mycanvas"
        style="width: 100%; height: 90%;">
</canvas>

</body>
</html>
